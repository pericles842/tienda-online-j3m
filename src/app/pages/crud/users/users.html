<app-menu-bar [disableDeleteButton]="selectedEliminateUsers.length === 0" (touchDelete)="deleteUserMultiple()" (touchNew)="openModal()"></app-menu-bar>

<app-dynamic-table
  [columns]="columns"
  name_table="Listado de usuarios"
  [globalFilterFields]="globalFilterFields"
  [data]="users()"
  (onEdit)="goToEdit($event)"
  (onDelete)="deleteUser($event)"
  [(selection)]="selectedEliminateUsers"
></app-dynamic-table>

<p-dialog
  [visible]="modal()"
  [style]="{ width: '740px' }"
  header="Crear usuario"
  [modal]="true"
  [closable]="false"
  [draggable]="false"
  [resizable]="false"
  [closeOnEscape]="true"
>
  <ng-template pTemplate="content">
    <app-form-user #formUser mode_component="crud" [(formGroup)]="registerForm"></app-form-user>
  </ng-template>

  <!-- FOOTER CORRECTO -->
  <ng-template pTemplate="footer">
    <div class="flex justify-end gap-3 p-3">
      <p-button
        label="Cancelar"
        icon="pi pi-times"
        (onClick)="modal.set(false)"
        severity="danger"
        outlined
        class="p-button-text"
        text
      ></p-button>
      <p-button (click)="guardar()" label="Guardar" icon="pi pi-check" type="button"></p-button>
    </div>
  </ng-template>
</p-dialog>
