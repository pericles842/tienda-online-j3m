<app-menu-bar></app-menu-bar>

<div class="card">
  <p-treetable [value]="files" [columns]="cols" [scrollable]="true" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template #caption><div class="text-xl font-bold">File Viewer</div> </ng-template>
    <ng-template #header let-columns>
      <tr>
        @for (col of columns; track $index) {
        <th>{{ col.header }}</th>
        }
      </tr>
    </ng-template>
    <ng-template #body let-rowNode let-rowData="rowData" let-columns="columns">
      <tr [ttRow]="rowNode">
        @for (col of columns; track $index; let i = $index; let last = $last) {
        <td>
          @if (i === 0) {
          <p-treetable-toggler [rowNode]="rowNode" />
          } {{ rowData[col.field] }} @if (last) {
          <p-button icon="pi pi-search" rounded="true" [style]="{ 'margin-right': '.5em' }" />
          <p-button icon="pi pi-pencil" rounded="true" severity="success" />
          }
        </td>
        }
      </tr>
    </ng-template>
    <!-- <ng-template #summary>
      <div style="text-align: left">
        <p-button icon="pi pi-refresh" label="Reload" severity="warn" />
      </div>
    </ng-template> -->
  </p-treetable>
</div>
